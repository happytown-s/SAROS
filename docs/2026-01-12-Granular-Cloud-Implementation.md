

## 概要
新しい **Granular Cloud** エフェクトを実装しました。これにより、ユーザーはループから高密度でアンビエントなテクスチャを生成できます。このエフェクトは、トラックバッファからランダム化されたパラメータを持つ小さな「グレイン（粒子）」を生成します。

## 変更点

### 1. DSP実装 (`LooperAudio.h`, `LooperAudio.cpp`)
- **構造体**: トラックごとのグラニュラー状態を管理するために、`Grain` および `GranularParams` 構造体を `FXChain` に追加しました。
- **状態管理**: 各トラックで独立した密度制御を保証するために、`spawnTimer` を `GranularParams` に移動しました。
- **グレインロジック**:
    - **生成 (Spawning)**: 密度（グレイン間のギャップ）を制御するタイマーベースの生成ロジック。
    - **ジッター (Jitter)**: 再生位置のランダムなオフセット。
    - **ピッチ (Pitch)**: ランダム化された再生速度（ピッチシフト）。
    - **処理 (Processing)**: 各グレインに対する三角窓関数とパンニング処理。
    - **ミキシング (Mixing)**: `Mix` パラメータに基づいて、「クラウド」バッファと元のトラックをミックスします。

### 2. UI統合 (`FXPanel.h`, `FXPanel.cpp`)
- **コントロール**: 5つの新しいスライダーを追加しました:
    - **Size**: グレインの持続時間 (50ms - 500ms)。
    - **Density**: 生成レート/オーバーラップ (疎 - 密)。
    - **Pitch**: 基本ピッチシフト (0.5倍 - 2.0倍)。
    - **Jitter**: ランダムな位置の量。
    - **Mix**: ドライ/ウェットバランス。
- **メニュー**: エフェクト選択メニューに "Granular Cloud" を追加しました (項目 10)。
- **可視性**: 選択されたエフェクトスロットに基づいてコントロールを表示/非表示にするロジックを実装しました。
- **ラベル**: パラメータ更新のために `setTrackGranular...` 呼び出しを統合しました。
- **スイッチロジック**: スロットボタンに "Cloud" ラベルを正しく表示するために `showEffectMenu` と `setTargetTrackId` を更新しました。

## 検証
- **コンパイル**: コードはエラーなしでコンパイルされるはずです。
- **機能性**:
    - エフェクトメニューから "Granular Cloud" を選択します。
    - スライダーが表示され、サウンドパラメータを制御できることを確認します。
    - Mix が > 0 のときにグレインが生成され、聞こえることを確認します。
    - 各トラックが独立したグラニュラー設定を持っていることを確認します。
    - エフェクトを無効にすると処理が停止し、コントロールが非表示になることを確認します。

## 次のステップ
- **最適化**: CPU使用率が許容する場合は、より滑らかなピッチシフトのために線形補間の追加を検討します。
- **ビジュアル**: 将来的にアクティブなグレインの視覚化を追加します（オプション）。
