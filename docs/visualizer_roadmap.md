# Visualizer Roadmap & Feature Requests

## 1. トラックごとのRMS連動「ゴム」エフェクト
- **概要**: トラックごとのRMS（音量）に合わせて、波形やトラックの円リングがゴムのように伸縮・震える演出を追加する。
- **イメージ**: 低音やアタックに合わせてグニョグニョと動くOrganicな動き。
- **技術的アプローチ**:
  - `LooperAudio` または `CircularVisualizer` 内で各トラックのRMSを取得。
  - 描画パス生成時（`regenerateWaveformPath`）または描画時（`draw`）に、RMS値をスケーリング係数やdistortionパラメータとして適用。
  - Spring物理演算（ばね・ダンピング）を導入して滑らかで弾力のある動きにする。

## 2. Visual Mode での動画書き出し機能
- **概要**: 現在のVisualizerの映像を動画ファイルとして書き出す機能。
- **要件**:
  - ループに合わせてシームレスな動画が作れることが理想。
  - 音声も含めるか？（通常は映像のみ書き出し＋音声合成、あるいはFFmpeg連携？）
  - リアルタイムキャプチャか、非リアルタイムレンダリングか？（JUCEの`VideoComponent`や`OpenGL`連携の調査が必要）

## 3. ループ連動「呼吸」アニメーション
- **概要**: 「ループに合わせて録音した数の波形が拡大縮小して頭の位置に戻るイメージ」
- **詳細解釈**:
  - ループの進行（Phase 0.0 -> 1.0）に合わせて、全体あるいは個別の波形が徐々に拡大（または変化）していく。
  - ループの頭（Phase 0.0）に戻る瞬間に、元のサイズ/位置に「ポンッ」と戻る、あるいは収縮する（呼吸のような動き）。
  - 「録音した数の波形」という記述から、録音済みトラック数に応じて演出が派手になる、あるいは層が増えるなどの変化も想定。

---
作成日: 2026-01-11
